<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
<!--        <record id="sale.action_report_saleorder" model="ir.actions.report">-->
<!--&lt;!&ndash;        <field name="name">Quotation / Order</field>&ndash;&gt;-->
<!--&lt;!&ndash;        <field name="model">sale.order</field>&ndash;&gt;-->
<!--        <field name="report_type">qweb-pdf</field>-->
<!--        <field name="report_name">sale.report_saleorder</field>-->
<!--        <field name="report_file">sale.report_saleorder</field>-->
<!--        <field name="print_report_name">(object.state in ('draft', 'sent') and 'Quotation - %s' % (object.name)) or 'Order - %s' % (object.name)</field>-->
<!--        <field name="binding_model_id" ref="model_sale_order"/>-->
<!--        <field name="binding_type">report</field>-->
<!--    </record>-->
        <record id="page_deliver_paper_format" model="report.paperformat">
            <field name="name">Delivery Report</field>
            <field name="default" eval="True"/>
            <field name="format">custom</field>
            <field name="orientation">Portrait</field>
            <field name="margin_top">0</field>
            <field name="margin_bottom">0</field>
            <field name="margin_left">0</field>
            <field name="margin_right">0</field>
            <field name="header_line" eval="False"/>
            <field name="header_spacing">0</field>
            <field name="dpi">90</field>
        </record>

        <report
                id="report_delivery_report_action"
                model="stock.picking"
                string=" Surya Delivery Report"
                report_type="qweb-pdf"
                name="sale_quotation.delivery_surya_report_template"
                file="sale_quotation.delivery_surya_report_template"
                paperformat="sale_quotation.page_deliver_paper_format"
                print_report_name='"Surya Delivery Report"'
                menu="True"
        />
        <template id="delivery_surya_report_template">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <t t-set="ddd" t-value="0.0"/>
                <t t-foreach="docs" t-as="doc">
                    <t t-foreach="doc.move_ids_without_package" t-as="line">
                        <t t-set="ddd" t-value="ddd + 1"/>
                    </t>
                    <div class="page">
                        <header>
                            <div style="margin-top:-40px">
                                <img src='sale_quotation/static/images/header.jpg'
                                     style="width:100%;"/>
                            </div>
                        </header>
                    </div>
                    <div align="center" style="margin-top:10px">
                        <span>Delivery Order</span>
                    </div>
                    <t>
                        <style>
                            .table-container {
                            display: flex;
                            flex-direction: column;
                            }

                            .table {
                            border: 1px solid black;
                            margin-bottom: 0px;
                            }
                        </style>
                        <table class="table fnt"
                               style="width:100%;height:180mm;">
                            <thead>
                                <tr>
                                    <td colspan="6"
                                        style="border:1px solid #143980;font-size:12px;height:33.33% !important;display:table-cell;padding-left: 6px;">
                                        <span style="color:black;">Receipt No</span>
                                         <!--<span style="color:black;padding-left:65px" >:</span>-->
                                        <br/>
                                        <span style="color:black;">Order</span>
                                         <!--<span style="color:black;padding-left:55px" >:</span>-->
                                        <!--<span style="color:black;font-style: normal;"
                                              t-esc="doc.date_order"/>-->
                                        <br/>
                                        <strong style="color:#143980;">Shipping Date</strong>
                                        <!-- <span style="color:black;padding-left:22px" >:</span>-->
                                          <!--<span style="color:black;font-style: normal;"
                                                  t-esc="doc.partner_id.customer_id"/>-->
                                        <br/>

                                    </td>
                                    <td colspan="6"
                                        style="padding:1px;border:1px solid #143980;font-size:12px;height:33.33% !important;display:table-cell;padding-left: 6px;">
                                    </td>
                                </tr>

                                <tr style="color:#143980;height:3px !important;font-size:12px;">
                                    <th class="text-center" style="padding:1px;width:1%;border:1px solid #143980;">Sl.No
                                    </th>
                                    <t>
                                        <th col="5" class="text-center"
                                            style="padding:1px;width:20%;border:1px solid #143980;">Product
                                        </th>
                                    </t>
                                    <th col="2"
                                            class="text-center" style="padding:1px;width:8%;border:1px solid #143980;">Demand
                                    </th>
                                    <th col="2"
                                            class="text-center" style="padding:1px;width:6%;border:1px solid #143980;">Done

                                    </th>
                                    <th col="2"
                                            class="text-center" style="padding:1px;width:5%;border:1px solid #143980;">
                                        Unit Of Measure
                                    </th>
                                </tr>

                            </thead>
                            <tbody style="width:100%;border:1px solid #143980;font-size:12px;">
                                <!-- Variables declaration start -->
                                <t t-set="i" t-value="1"/>
                                <t t-set="disc" t-value="0"/>
                                <t t-set="disc_tot" t-value="0"/>
                                <t t-set="amttotal" t-value="0"/>
                                <t t-set="consol" t-value="doc.consolidated_quantities()"/>
                                <t t-foreach="consol" t-as="consolines">
                                    <t t-set="tot_amt" t-value="0"/>
                                    <t t-set="tot_qty" t-value="0"/>
                                    <t t-foreach="doc.move_ids_without_package" t-as="line">
                                        <t t-if="line.product_id == consolines['product']">
                                            <t t-set="tot_qty" t-value="tot_qty + line.product_uom_qty"/>
                                            <t t-set="tot_amt" t-value="tot_amt + line.price_subtotal"/>
                                        </t>
                                    </t>
                                    <tr style="height:1px;border-right:1px solid black !important;">
                                        <td class="text-center"
                                            style="width:1%;color:black;border-left:1px solid #143980;border-bottom:none !important;">
                                            <span t-esc="i"/>
                                            <t t-set="i" t-value="i+1"/>
                                        </td>
                                        <t>
                                            <td  class="text-left"
                                                style="width:20%;color:black;border-left:1px solid #143980; border-bottom:none !important;">
                                                <span t-esc="consolines['product']"/>
                                            </td>
                                        </t>
                                        <td class="text-center"
                                            style="width:8%;color:black;border-left:1px solid #143980;border-bottom:none !important;">
                                            <span t-esc="consolines['demand']"/>
                                        </td>
                                        <td class="text-center"
                                            style="width:6%;color:black;border-left:1px solid #143980;border-bottom:none !important;">
                                            <span t-esc="(consolines['done'])"/>
                                        </td>
                                        <!--<td style="width:10%;color:black;border-left:1px solid #143980;border-bottom:none !important;">
                                            <span t-esc="(consolines['done'])"/>
                                        </td>-->
                                        <td style="width:5%;color:black;border-left:1px solid #143980;border-bottom:none !important;">
                                            <span t-esc="(line.product_uom.name)"/>
                                        </td>
                                    </tr>
                                </t>
                                <tr>
                                    <td style="border-left:1px solid #143980;border-top: none !important;"/>
                                    <t t-if="ddd != 0">
                                        <td colspan="2"
                                            style="border-left:1px solid #143980;border-top: none !important;"/>
                                    </t>
                                    <t t-else="">
                                        <td colspan="3"
                                            style="border-left:1px solid #143980;border-top: none !important;"/>
                                    </t>
                                    <td style="border-left:1px solid #143980;border-top: none !important;"/>
                                    <td style="border-left:1px solid #143980;border-top: none !important;"/>
                                    <td style="border-left:1px solid #143980;border-top: none !important;"/>
                                    <td style="border-left:1px solid #143980;border-top: none !important;"/>
                                    <td style="border-left:1px solid #143980;border-top: none !important;border-right: 1px solid;"/>
                                    <t t-if="ddd != 0">
                                        <td style="border-left:1px solid #143980;border-top: none !important;border-right: 1px solid;"/>
                                    </t>
                                    <td style="border-left:1px solid #143980;border-top: none !important;border-right: 1px solid;"/>
                                    <td style="border-left:1px solid #143980;border-top: none !important;border-right: 1px solid;"/>
                                </tr>
                            </tbody>
<!--
                            <tbody style="border:1px solid #143980;font-size:12px;margin-top:20px">
                                <tr style="height:3px !important;font-size:12px;">
                                    <th colspan="8"
                                        style="padding:1px;border:1px solid #143980;border-top:1px solid #143980;font-size:12px;">
                                        <strong style="color:#143980">E&amp;OE</strong>
                                    </th>
                                    <td colspan="4"
                                        style="padding:1px;border:1px solid #143980;">
                                        <strong style="color:#143980">Total :</strong>
                                        <span style="color:black;font-style: normal;"
                                              t-esc="doc.amount_total"/>
                                    </td>
                                </tr>
                            </tbody>
-->
                        </table>
                    </t>
<!--
                    <table class="table table-sm table-bordered"
                           style="width:100%;border:1px solid #143980;font-size:12px;margin-top:-10">
                        <tr style="height:3px !important;font-size:12px;">
                            <th colspan="3" rowspan="2"
                                style="padding:1px;border:1px solid #143980;border-top:1px solid #143980;font-size:12px;text-align:center">
                                <strong style="color:#143980">Table Value</strong>
                            </th>
                            <td colspan="2"
                                style="border:1px solid #143980;text-align:center">
                                <strong style="color:#143980">SGST</strong>

                            </td>
                            <td colspan="2"
                                style="border:1px solid #143980;text-align:center">
                                <strong style="color:#143980">CGST</strong>
                            </td>
                            <td colspan="2"
                                style="border:1px solid #143980;text-align:center">
                                <strong style="color:#143980">IGST</strong>
                            </td>
                        </tr>
                        <tr>
                            <td style="border:1px solid #143980;">
                                <span>Rate%</span>
                            </td>
                            <td style="border:1px solid #143980;">
                                <span>Amount</span>
                            </td>
                            <td style="border:1px solid #143980;">
                                <span>Rate%</span>
                            </td>
                            <td style="border:1px solid #143980;">
                                <span>Amount</span>
                            </td>
                            <td style="border:1px solid #143980;">
                                <span>Rate%</span>
                            </td>
                            <td style="border:1px solid #143980;">
                                <span>Amount</span>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">0.00</td>
                            <td>10.00</td>
                            <td>20.00</td>
                            <td>30.00</td>
                            <td>40.00</td>
                            <td>50.00</td>
                            <td>60.00</td>
                        </tr>
                        <tr>
                            <td colspan="3">0.00</td>
                            <td colspan="2">0.00</td>
                            <td colspan="2">0.00</td>
                            <td colspan="2">0.00</td>
                        </tr>
                        <tr>
                            <td colspan="5" rowspan="2">Amount in Words</td>
                            <td colspan="2">Round Off</td>
                            <td colspan="2">-</td>
                        </tr>
                        <tr>
                            <td colspan="2">Total Po Value</td>
                            <td colspan="2">0.00</td>
                        </tr>
                        <tr>
                            <td colspan="3" rowspan="3">Special Instruction</td>
                            <td colspan="3" rowspan="3">Delivery Location</td>
                            <td colspan="3" rowspan="3">
                                Authorised Signature
                                <br/>
                                <img src='sale_quotation/static/images/sign.png'/>
                            </td>
                        </tr>
                        <tr>
                        </tr>
                        <tr>
                        </tr>
                        <tr>
                        </tr>
                        <tr>
                        </tr>
                    </table>
-->

                </t>
                 <div>
                <footer>
                    <div style="margin-top:130px">
                        <img src='sale_quotation/static/images/footer.jpg'
                             style="width:100%;"/>
                    </div>
                </footer>
            </div>
            </t>
        </t>
        </template>
    </data>
</odoo>